import sys
from unittest import TestCase

from AllPairsShortestPaths import slow_all_pairs_shortest_paths


class TestAllPairsShortestPaths(TestCase):
    def test_slow_all_pairs_shortest_paths(self):
        vs1 = {1: 0, 2: 1, 3: 2, 4: 3, 5: 4}
        # vs2 = {0: 1, 1: 2, 2: 3, 3: 4, 4: 5}
        n = len(vs1)
        weights = [[sys.maxsize] * n for _ in range(n)]
        for i in range(n):
            weights[i][i] = 0
        weights[vs1[1]][vs1[2]] = 3
        weights[vs1[1]][vs1[3]] = 8
        weights[vs1[1]][vs1[5]] = -4
        weights[vs1[2]][vs1[4]] = 1
        weights[vs1[2]][vs1[5]] = 7
        weights[vs1[3]][vs1[2]] = 4
        weights[vs1[4]][vs1[1]] = 2
        weights[vs1[4]][vs1[3]] = -5
        weights[vs1[5]][vs1[4]] = 6

        x = [[[0, 9223372036854775807, 9223372036854775807, 9223372036854775807, 9223372036854775807],
              [9223372036854775807, 0, 9223372036854775807, 9223372036854775807, 9223372036854775807],
              [9223372036854775807, 9223372036854775807, 0, 9223372036854775807, 9223372036854775807],
              [9223372036854775807, 9223372036854775807, 9223372036854775807, 0, 9223372036854775807],
              [9223372036854775807, 9223372036854775807, 9223372036854775807, 9223372036854775807, 0]],
             [[0, 3, 8, 9223372036854775807, -4],
              [9223372036854775807, 0, 9223372036854775807, 1, 7],
              [9223372036854775807, 4, 0, 9223372036854775807, 9223372036854775807],
              [2, 9223372036854775807, -5, 0, 9223372036854775807],
              [9223372036854775807, 9223372036854775807, 9223372036854775807, 6, 0]],
             [[0, 3, 8, 2, -4],
              [3, 0, -4, 1, 7],
              [9223372036854775807, 4, 0, 5, 11],
              [2, -1, -5, 0, -2],
              [8, 9223372036854775807, 1, 6, 0]],
             [[0, 3, -3, 2, -4],
              [3, 0, -4, 1, -1],
              [7, 4, 0, 5, 11],
              [2, -1, -5, 0, -2],
              [8, 5, 1, 6, 0]],
             [[0, 1, -3, 2, -4],
              [3, 0, -4, 1, -1],
              [7, 4, 0, 5, 3],
              [2, -1, -5, 0, -2],
              [8, 5, 1, 6, 0]]]
        l, v = slow_all_pairs_shortest_paths(weights)
        self.assertEqual(x, l)
